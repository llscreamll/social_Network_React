(this["webpackJsonpmy-site"]=this["webpackJsonpmy-site"]||[]).push([[4],{486:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return o})),n.d(t,"i",(function(){return f})),n.d(t,"a",(function(){return m}));var a=n(488),r=Object(a.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),u=function(e){return e.usersPage.pageSize},c=function(e){return e.usersPage.totalUserCount},i=function(e){return e.usersPage.currentPage},s=function(e){return e.usersPage.isFetching},l=function(e){return e.usersPage.followingInProgress},o=function(e){return e.auth.isAuth},f=function(e){return e.usersPage.filter},m=function(e){return e.auth.urlCaptcha}},487:function(e,t,n){e.exports={usersPage:"Users_usersPage__12vKJ",users:"Users_users__3Cj-e",statusPage:"Users_statusPage__1lxlN",usersBorder:"Users_usersBorder__23uqw"}},493:function(e,t,n){e.exports={paginator:"Paginator_paginator__21QvK",pageNumber:"Paginator_pageNumber__3WhEz",selectedPage:"Paginator_selectedPage__1Y4oU",buttonClick:"Paginator_buttonClick__3Y8NQ",buttonLeft:"Paginator_buttonLeft__hagBj",buttonRight:"Paginator_buttonRight__2duI2"}},507:function(e,t,n){"use strict";n.r(t);var a=n(487),r=n.n(a),u=n(0),c=n.n(u),i=n(64),s=n(486),l=n(27),o=n(18),f=n(66),m=n(493),d=n.n(m),g=function(e){for(var t=e.totalUserCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,i=e.portionSize,s=void 0===i?20:i,l=Math.ceil(t/n),o=[],m=1;m<=l;m++)o.push(m);var g=Math.ceil(l/s),b=Object(u.useState)(1),p=Object(f.a)(b,2),E=p[0],h=p[1],P=(E-1)*s+1,v=E*s;return c.a.createElement("div",{className:d.a.paginator},E>1&&c.a.createElement("button",{className:"".concat(d.a.buttonLeft," ").concat(d.a.buttonClick),onClick:function(){h(E-1)}},"PREV"),o.filter((function(e){return e>=P&&e<=v})).map((function(e){return c.a.createElement("span",{className:a===e?d.a.selectedPage:d.a.pageNumber,key:e,onClick:function(t){r(e)}},e)})),g>E&&c.a.createElement("button",{className:"".concat(d.a.buttonRight," ").concat(d.a.buttonClick),onClick:function(){h(E+1)}},"NEXT"))},b=n(105),p=n.n(b),E=n(40),h=function(e){var t=e.user,n=e.followingProgress,a=e.followUsers,u=e.unFollowUsers,i=e.isAuth;return c.a.createElement("div",{className:r.a.usersBorder},c.a.createElement(E.c,{to:"/profile/".concat(t.id)},c.a.createElement("img",{src:null!=t.photos.small?t.photos.small:p.a,alt:"logo"})),c.a.createElement("div",null,t.name),c.a.createElement("div",{className:r.a.statusPage},t.status),i?c.a.createElement("div",null,t.followed?c.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){u(t.id)}},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"):c.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f")):c.a.createElement("button",{disabled:!0},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"))},P=n(503),v=function(e){return{}},_=c.a.memo((function(e){var t=Object(l.d)(s.i);return c.a.createElement("div",null,c.a.createElement(P.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validate:v,onSubmit:function(t,n){var a=n.setSubmitting,r={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(r),a(!1)}},(function(e){var t=e.isSubmitting;return c.a.createElement(P.b,null,c.a.createElement(P.a,{type:"text",name:"term",placeholder:"User name"}),c.a.createElement(P.a,{name:"friend",as:"select"},c.a.createElement("option",{value:"null"},"All"),c.a.createElement("option",{value:"true"},"Only followed"),c.a.createElement("option",{value:"false"},"Only not followed")),c.a.createElement("button",{type:"submit",disabled:t},"Find"))})))})),j=n(213),O=n(24),C=n(499),N=function(e){var t=Object(l.d)(s.g),n=Object(l.d)(s.h),a=Object(l.d)(s.b),i=Object(l.d)(s.f),f=Object(l.d)(s.i),m=Object(l.d)(s.c),d=Object(l.d)(s.d),b=Object(l.c)(),p=Object(O.f)();Object(u.useEffect)((function(){var e=C.parse(p.location.search.substr(1)),t=a,n=f;switch(e.page&&(t=Number(e.page)),e.term&&(n=Object(o.a)({},n,{term:e.term})),e.friend){case"null":n=Object(o.a)({},n,{friend:null});break;case"false":n=Object(o.a)({},n,{friend:!1});break;case"true":n=Object(o.a)({},n,{friend:!0})}b(Object(j.c)(t,i,n))}),[]),Object(u.useEffect)((function(){var e={};f.term&&(e.term=f.term),null!==f.friend&&(e.friend=String(f.friend)),1!==a&&(e.page=String(a)),p.push({pathname:"/users",search:C.stringify(e)})}),[f,a]);var E=function(e){b(Object(j.b)(e))},P=function(e){b(Object(j.d)(e))};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(_,{onFilterChanged:function(e){b(Object(j.c)(1,i,e))}})),c.a.createElement("div",{className:r.a.usersPages},c.a.createElement(g,{currentPage:a,totalUserCount:t,pageSize:i,onPageChanged:function(e){b(Object(j.c)(e,i,f))}}),c.a.createElement("div",{className:r.a.usersPage},n.map((function(e){return c.a.createElement("div",{className:r.a.users},c.a.createElement(h,{user:e,followingProgress:m,isAuth:d,followUsers:E,unFollowUsers:P,key:e.id}))})))))};t.default=function(e){var t=Object(l.d)(s.e);return c.a.createElement("div",{className:r.a.pageUsers},t?c.a.createElement(i.a,null):null,c.a.createElement(N,null))}}}]);
//# sourceMappingURL=4.56fd0097.chunk.js.map