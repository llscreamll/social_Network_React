(this["webpackJsonpmy-site"]=this["webpackJsonpmy-site"]||[]).push([[4],{288:function(e,t,n){e.exports={pageUsers:"Users_pageUsers__39Agt",usersPage:"Users_usersPage__12vKJ",users:"Users_users__3Cj-e",statusPage:"Users_statusPage__1lxlN",usersBorder:"Users_usersBorder__23uqw"}},295:function(e,t,n){e.exports={paginator:"Paginator_paginator__21QvK",pageNumber:"Paginator_pageNumber__3WhEz",selectedPage:"Paginator_selectedPage__1Y4oU",buttonClick:"Paginator_buttonClick__3Y8NQ",buttonLeft:"Paginator_buttonLeft__hagBj",buttonRight:"Paginator_buttonRight__2duI2"}},309:function(e,t,n){"use strict";n.r(t);var a=n(293),r=n(294),o=n(303),s=n(304),l=n(129),u=n(288),i=n.n(u),c=n(0),g=n.n(c),f=n(88),p=n(38),m=n(295),d=n.n(m),h=function(e){for(var t=e.totalUserCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,o=e.portionSize,s=void 0===o?20:o,l=Math.ceil(t/n),u=[],i=1;i<=l;i++)u.push(i);var f=Math.ceil(l/s),m=Object(c.useState)(1),h=Object(p.a)(m,2),P=h[0],b=h[1],E=(P-1)*s+1,v=P*s;return g.a.createElement("div",{className:d.a.paginator},P>1&&g.a.createElement("button",{className:"".concat(d.a.buttonLeft," ").concat(d.a.buttonClick),onClick:function(){b(P-1)}},"PREV"),u.filter((function(e){return e>=E&&e<=v})).map((function(e){return g.a.createElement("span",{className:a===e?d.a.selectedPage:d.a.pageNumber,key:e,onClick:function(t){r(e)}},e)})),f>P&&g.a.createElement("button",{className:"".concat(d.a.buttonRight," ").concat(d.a.buttonClick),onClick:function(){b(P+1)}},"NEXT"))},P=n(63),b=n.n(P),E=n(19),v=function(e){var t=e.user,n=e.followingProgress,a=e.follow,r=e.unFollow,o=e.isAuth;return g.a.createElement("div",{className:i.a.usersBorder},g.a.createElement(E.b,{to:"/profile/".concat(t.id)},g.a.createElement("img",{src:null!=t.photos.small?t.photos.small:b.a,alt:"logo"})),g.a.createElement("div",null,t.name),g.a.createElement("div",{className:i.a.statusPage},t.status),o?g.a.createElement("div",null,t.followed?g.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"):g.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f")):g.a.createElement("button",{disabled:!0},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"))},_=n(302),C=function(e){return{}},w=g.a.memo((function(e){return g.a.createElement("div",null,g.a.createElement(_.c,{initialValues:{term:"",friend:"null"},validate:C,onSubmit:function(t,n){var a=n.setSubmitting,r={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(r),a(!1)}},(function(e){var t=e.isSubmitting;return g.a.createElement(_.b,null,g.a.createElement(_.a,{type:"text",name:"term"}),g.a.createElement(_.a,{name:"friend",as:"select"},g.a.createElement("option",{value:"null"},"All"),g.a.createElement("option",{value:"true"},"Only followed"),g.a.createElement("option",{value:"false"},"Only not followed")),g.a.createElement("button",{type:"submit",disabled:t},"Find"))})))})),U=function(e){var t=e.currentPage,n=e.totalUserCount,a=e.pageSize,r=e.onPageChanged,o=e.users,s=e.followingProgress,l=e.follow,u=e.isAuth,c=e.unFollow,p=Object(f.a)(e,["currentPage","totalUserCount","pageSize","onPageChanged","users","followingProgress","follow","isAuth","unFollow"]);return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",null,g.a.createElement(w,{onFilterChanged:p.onFilterChanged})),g.a.createElement("div",{className:i.a.usersPages},g.a.createElement(h,{currentPage:t,totalUserCount:n,pageSize:a,onPageChanged:r}),g.a.createElement("div",{className:i.a.usersPage},o.map((function(e){return g.a.createElement("div",{className:i.a.users},g.a.createElement(v,{user:e,followingProgress:s,isAuth:u,follow:l,unFollow:c,key:e.id}))})))))},k=n(37),F=n(301),N=Object(F.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),S=function(e){return e.usersPage.pageSize},z=function(e){return e.usersPage.totalUserCount},j=function(e){return e.usersPage.currentPage},y=function(e){return e.usersPage.isFetching},O=function(e){return e.usersPage.followingInProgress},A=function(e){return e.auth.isAuth},T=function(e){return e.usersPage.filter},x=n(13),B=n(8),R=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onPageChanged=function(t){var n=e.props,a=n.pageSize,r=n.filter;e.props.getUsersThunk(t,a,r)},e.onFilterChanged=function(t){var n=e.props.pageSize;e.props.getUsersThunk(1,n,t)},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize,a=e.filter;this.props.getUsersThunk(t,n,a)}},{key:"render",value:function(){return g.a.createElement(g.a.Fragment,null,g.a.createElement("div",{className:i.a.pageUsers},this.props.isFetching?g.a.createElement(k.a,null):null,g.a.createElement(U,{totalUserCount:this.props.totalUserCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,followingProgress:this.props.followingProgress,follow:this.props.follow,unFollow:this.props.unFollow,isAuth:this.props.isAuth,onFilterChanged:this.onFilterChanged})))}}]),n}(g.a.Component);t.default=Object(B.d)(Object(x.b)((function(e){return{users:N(e),pageSize:S(e),totalUserCount:z(e),currentPage:j(e),isFetching:y(e),followingProgress:O(e),isAuth:A(e),filter:T(e)}}),{getUsersThunk:l.c,follow:l.b,unFollow:l.d}))(R)}}]);
//# sourceMappingURL=4.d0a04cc1.chunk.js.map